{% extends "base.html" %}
{% load i18n moj_utils %}

{% block content %}
  <p id="tour-step7">{% trans "Home" %}</p>
  <ul class="SummaryBoxes">
    <li class="SummaryBoxes--unprocessed" id="tour-step1">
      <a href="{% url 'transaction-list' %}">
        <h2>{% trans "New" %}</h2>
        <p>
          {% blocktrans with payments_count="<strong>{0}</strong>"|safewrap:new_transactions %}
          {{ payments_count }} Credits to process
          {% endblocktrans %}
        </p>
      </a>
    </li>

    <li id="tour-step2">
      <a href="{% url 'transaction-history' %}">
        <h2>{% trans "History" %}</h2>
        <p>{%trans "Credits processed by the team" %}</p>
      </a>
    </li>

    <li id="tour-step3" class="SummaryBoxes--locked">
      <a href="{% url 'transactions-locked' %}">
        <h2>{% trans "In progress" %}</h2>
        <p>
          {% blocktrans with payments_count="<strong>{0}</strong>"|safewrap:locked_transactions %}
          {{ payments_count }} Credits in progress
          {% endblocktrans %}
        </p>
      </a>
    </li>
  </ul>

  <div id="tour-intro"></div>

{% endblock content %}

{% block include_js %}
  <script>
    var tour = {
      id: 'dashboard',
      steps: [
        {
          content: '{% blocktrans %}<p>Welcome to the digital cashbook. Would you like to take a quick tour that explains how it works?</p>{% endblocktrans %}',
          target: 'tour-intro',
          padding: 10,
          placement: 'bottom',
          xOffset: 'center',
          yOffset: '-50',
          highlight: true,
          dismissTo: 3
        },
        {
          content: '{% blocktrans %}<p>All credits to process in NOMIS are in ‘New’</p>{% endblocktrans %}',
          target: 'tour-step1',
          padding: 10,
          placement: 'bottom',
          arrowOffset: 100,
          highlight: true
        },
        {
          content: '{% blocktrans %}<p>You can see all credits you or your team have processed.</p>{% endblocktrans %}',
          target: 'tour-step2',
          padding: 10,
          placement: 'bottom',
          xOffset: 'center',
          highlight: true
        },
        {
          content: '{% blocktrans %}<p>See credits other staff are processing in NOMIS. You can open these credits if necessary.</p>{% endblocktrans %}',
          target: 'tour-step3',
          padding: 10,
          placement: 'bottom',
          xOffset: 'center',
          highlight: true
        },
        {
          content: '{% blocktrans %}<p>You can resume the tour at any time from here.</p>{% endblocktrans %}',
          target: 'tour-resume',
          padding: 10,
          placement: 'bottom',
          xOffset: -250,
          arrowOffset: 265,
          fadeout: true
        }
      ]
    };
  </script>

  {{ block.super }}
{% endblock %}
