{% extends 'base.html' %}
{% load i18n %}
{% load training %}

{% block inner_content %}
  <header class="ContentHeader">
    <a href="{% url 'dashboard' %}" class="ContentHeader-back">{% trans 'Home' %}</a>
    <h1 class="heading-large mtp-heading-training">{{ view.training_title }}</h1>
  </header>

  {% include 'mtp_common/includes/message_box.html' %}

  <ul class="mtp-training-navigation print-hidden">
    {% for page in pages %}
      <li class="mtp-training-navigation__item {% if page.page == view.kwargs.page %}mtp-training-navigation__item--active{% endif %}">
        <a href="{% url view.url_name page=page.page %}">{{ page.title }}</a>
      </li>
    {% endfor %}
    <li class="mtp-training-navigation__item mtp-training-navigation__js-print">
      <a href="#">{% trans 'Print this training guide' %}</a>
    </li>
  </ul>

  {% for page in pages %}
    <div class="mtp-training-content {% if page.page != current_page %}mtp-training-content__print{% endif %}">
      {% get_training_page_template page.page as page_template %}
      {% include page_template %}
    </div>
  {% endfor %}

  <nav class="pagination print-hidden" role="navigation" aria-label="Pagination">
    <ul class="group">
      {% if prev_page %}
        <li class="previous">
          <a title="Navigate to previous part" rel="prev" href="{% url view.url_name page=prev_page.page %}">
            <span class="pagination-label">{% trans 'Previous' %}</span>
            <span class="pagination-part-title">{{ prev_page.title }}</span>
          </a>
        </li>
      {% endif %}

      {% if next_page %}
        <li class="next">
          <a title="Navigate to next part" rel="next" href="{% url view.url_name page=next_page.page %}">
            <span class="pagination-label">{% trans 'Next' %}</span>
            <span class="pagination-part-title">{{ next_page.title }}</span>
          </a>
        </li>
      {% endif %}
    </ul>
  </nav>

{% endblock %}
